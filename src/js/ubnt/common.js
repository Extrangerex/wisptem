function devname2uidevname(a){var b=a.replace("ath","WLAN");b=b.replace("eth","LAN");b=b.replace("br","BRIDGE");b=b.replace("ppp","TUNNEL");return b}function uidevname2devname(b){var a=b.replace("WLAN","ath");a=a.replace("LAN","eth");a=a.replace("BRIDGE","br");a=a.replace("TUNEL","ppp");return a}function add_ifc_options(f,c,d,g){var b="";if(!(typeof g=="undefined")){b+="<option value='0'>";b+=g+"</option>"}for(var a=0;a<d.length;++a){b+="<option value='"+d[a]+"'>";b+=devname2uidevname(d[a])+"</option>"}f.html(b);f.val(c)}function get_br_ports(a,f,e){var c=[];for(var d=0;d<f.objs.length;d++){if(f.objs[d].devname!=a){continue}var g=f.objs[d].port;for(var b=0;b<g.length;b++){if((!g[b].enabled&&!e)||($.inArray(g[b].devname,c)!=-1)){continue}c.push(g[b].devname)}}return c}function get_bridge(a,f,e){if(typeof e=="undefined"){e=false}for(var d=0;d<f.objs.length;d++){var c=f.objs[d];if(!c.enabled){continue}for(var b=0;b<c.port.length;b++){if((c.port[b].devname==a)&&(c.port[b].enabled||all)){return c.devname}}}return""}function get_all_br_ports(d){var b=[];if(!d.enabled){return b}for(var c=0;c<d.objs.length;c++){if(!d.objs[c].enabled){continue}var e=d.objs[c].port;for(var a=0;a<e.length;a++){if(!e[a].enabled||($.inArray(e[a].devname,b)!=-1)){continue}b.push(e[a].devname)}}return b}function get_br_disabled_port(a,d){for(var c=0;c<d.objs.length;c++){if(d.objs[c].devname!=a){continue}var e=d.objs[c].port;for(var b=0;b<e.length;b++){if(!e[b].enabled){return e[b].devname}}}return""}function get_disabled_ifc(d,a){for(var c=0;c<a.objs.length;c++){for(var b=0;b<d.objs.length;b++){if(d.objs[b].devname!=a.objs[c].devname){continue}if(!d.objs[b].enabled){return d.objs[b].devname}}}return""}function prepare_vlan_ifc(b,a,f){var g=[];var h,e;var j=b.objs.length;if(!$.isArray(a)){a=[]}if(typeof f=="undefined"){f=false}if(b.enabled||f){for(e=0;e<j;e++){h=b.objs[e];var d=h.devname+"."+h.id;if(!(h.enabled||f)||($.inArray(d,a)!=-1)||($.inArray(d,g)!=-1)){continue}g[g.length]=d}}return g}function remove_ifc(a,b){for(i=0;i<b.objs.length;i++){obj=b.objs[i];if(obj.devname!=a){continue}b.objs.splice(i,1)}return b}function prepare_ifc(f,a,e){var d=[];var g,b;var h=f.objs.length;if(!$.isArray(a)){a=[]}if(typeof e=="undefined"){e=false}if(f.enabled||e){for(b=0;b<h;b++){g=f.objs[b];if(!(g.enabled||e)||($.inArray(g.devname,a)!=-1)||($.inArray(g.devname,d)!=-1)){continue}d[d.length]=g.devname}}return d}function common_on_close(a){window.close()}function common_on_save(b){if(!validateStandard($(b)[0],"error")){return false}var a="";if(typeof prepare_cfg=="function"){a=prepare_cfg()}$(b+"_data").val(a);$(b).submit();return true}function common_on_add(a){if(typeof add_data=="function"){add_data(null)}}function common_recount(c){var b=$('[ui_id="no"]');for(var a=0;a<b.length;a++){b.eq(a).text((a+1)+".")}}function common_on_del(b){var a=$(this);if(!a.is(":visible")){return}a.parent().parent().remove();a=$("tr.row").last();$('[ui_id="add"]',a).removeClass("initial_hide");$('[ui_id="del"]',a).addClass("initial_hide");common_recount()}function common_on_del_all(b){var a=$('[ui_id="del"]');a.each(common_on_del)}function common_on_change(b){var c=$(this).parent().parent();var a=$('[ui_id="status"]',c).attr("checked");if(typeof on_change=="function"){on_change(c,a)}}function common_init(){if(typeof on_save=="function"){$("#save").bind("click",on_save)}$("#close").bind("click",common_on_close);$("#del_all").bind("click",common_on_del_all);$('[ui_id="del"]').bind("click",common_on_del);$('[ui_id="add"]').bind("click",common_on_add);$('[ui_id="status"]').bind("change",common_on_change);if(typeof on_init=="function"){on_init()}}$(document).ready(common_init);